openapi: 3.0.0
info:
  title: OpenAPI Specification Management API
  contact:
    email: davide.vitali@unicredit.eu
  version: 1.0.2
  description: API to manage and upload OpenAPI specifications.
  x-appid:  APC
  x-rate-plan: none
  x-api-classification: backend
  x-api-exposure: intranet
  x-api-runtime: SpringBoot
  x-api-deployment: GKE
  x-api-domain: Technology
  x-api-country: Italy
paths:
  /openapiSpecs:
    post:
      summary: Create a new OpenAPI specification entry
      operationId: createOpenApiSpec
      requestBody:
        description: Metadata for the OpenAPI specification file
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SpecUploadRequest'
      responses:
        '201':
          description: Specification metadata received successfully
        '400':
          description: Invalid input provided

components:
  schemas:
    SpecUploadRequest:
      type: object
      required:
        - groupid
        - artifactid
        - contentType
      properties:
        groupid:
          type: string
          example: "com.enterprise.api"
        artifactid:
          type: string
          example: "user-service"
        filename:
          type: string
          description: "Path to the OpenAPI spec file in resources (optional if content is provided)"
          example: "v1-spec.yaml"
        content:
          type: string
          description: "Direct content of the OpenAPI spec (optional if filename is provided)"
          example: "openapi: 3.0.0\ninfo:\n  title: Example API\n..."
        contentType:
          type: string
          description: "Content type of the spec (e.g., application/yaml, application/json)"
          example: "application/yaml"
